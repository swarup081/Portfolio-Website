<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Live Code Editor</title>

  <!-- CodeMirror CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.10/codemirror.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.10/theme/dracula.min.css" />

  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: var(--bg, #1e1e2f);
      color: white;
      display: flex;
      flex-direction: column;
      height: 100vh;
      overflow: hidden;
    }

    .toolbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem 1rem;
      background: #29293d;
      color: #aaa;
    }

    .toolbar button {
      background: #444;
      color: #eee;
      border: none;
      padding: 0.4rem 1rem;
      margin-left: 0.5rem;
      cursor: pointer;
      border-radius: 4px;
    }

    .tabs {
      display: flex;
      background: #29293d;
      overflow-x: auto;
    }

    .tab-button {
      padding: 10px 20px;
      cursor: pointer;
      border: none;
      background: none;
      color: #aaa;
      font-weight: bold;
      white-space: nowrap;
    }

    .tab-button.active {
      color: #00e1ff;
      border-bottom: 2px solid #00e1ff;
    }

    .editor-container {
      flex: 1;
      display: none;
    }

    .editor-container.active {
      display: block;
      height: 50vh;
    }

    .preview {
      height: 50vh;
      border-top: 2px solid #444;
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
      background: white;
    }

    @media (max-width: 768px) {
      .editor-container.active {
        height: 45vh;
      }
      .preview {
        height: 55vh;
      }
    }
  </style>
</head>
<body>
  <div class="toolbar">
    <span>Live Code Editor</span>
    <div>
      <button onclick="toggleTheme()">Toggle Theme</button>
      <button onclick="downloadCode()">Download</button>
    </div>
  </div>
  <div class="tabs">
    <button class="tab-button active" onclick="switchTab('html')">HTML</button>
    <button class="tab-button" onclick="switchTab('css')">CSS</button>
    <button class="tab-button" onclick="switchTab('js')">JavaScript</button>
  </div>

  <div id="html" class="editor-container active">
    <textarea id="htmlEditor">
        <!DOCTYPE html>
        <html lang="en">
        
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
            <link rel="stylesheet" href="style.css">
            <title>Modern Login Page | AsmrProg</title>
        </head>
        
        <body>
        
            <div class="container" id="container">
                <div class="form-container sign-up">
                    <form>
                        <h1>Create Account</h1>
                        <div class="social-icons">
                            <a href="#" class="icon"><i class="fa-brands fa-google-plus-g"></i></a>
                            <a href="#" class="icon"><i class="fa-brands fa-facebook-f"></i></a>
                            <a href="#" class="icon"><i class="fa-brands fa-github"></i></a>
                            <a href="#" class="icon"><i class="fa-brands fa-linkedin-in"></i></a>
                        </div>
                        <span>or use your email for registeration</span>
                        <input type="text" placeholder="Name">
                        <input type="email" placeholder="Email">
                        <input type="password" placeholder="Password">
                        <button>Sign Up</button>
                    </form>
                </div>
                <div class="form-container sign-in">
                    <form>
                        <h1>Sign In</h1>
                        <div class="social-icons">
                            <a href="#" class="icon"><i class="fa-brands fa-google-plus-g"></i></a>
                            <a href="#" class="icon"><i class="fa-brands fa-facebook-f"></i></a>
                            <a href="#" class="icon"><i class="fa-brands fa-github"></i></a>
                            <a href="#" class="icon"><i class="fa-brands fa-linkedin-in"></i></a>
                        </div>
                        <span>or use your email password</span>
                        <input type="email" placeholder="Email">
                        <input type="password" placeholder="Password">
                        <a href="#">Forget Your Password?</a>
                        <button>Sign In</button>
                    </form>
                </div>
                <div class="toggle-container">
                    <div class="toggle">
                        <div class="toggle-panel toggle-left">
                            <h1>Welcome Back!</h1>
                            <p>Enter your personal details to use all of site features</p>
                            <button class="hidden" id="login">Sign In</button>
                        </div>
                        <div class="toggle-panel toggle-right">
                            <h1>Hello, Friend!</h1>
                            <p>Register with your personal details to use all of site features</p>
                            <button class="hidden" id="register">Sign Up</button>
                        </div>
                    </div>
                </div>
            </div>
        
            <script src="script.js"></script>
        </body>
        
        </html>
        
    </textarea>
  </div>

  <div id="css" class="editor-container">
    <textarea id="cssEditor">

        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap');

        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', sans-serif;
        }
        
        body{
            background-color: #c9d6ff;
            background: linear-gradient(to right, #e2e2e2, #c9d6ff);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            height: 100vh;
        }
        
        .container{
            background-color: #fff;
            border-radius: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.35);
            position: relative;
            overflow: hidden;
            width: 768px;
            max-width: 100%;
            min-height: 480px;
        }
        
        .container p{
            font-size: 14px;
            line-height: 20px;
            letter-spacing: 0.3px;
            margin: 20px 0;
        }
        
        .container span{
            font-size: 12px;
        }
        
        .container a{
            color: #333;
            font-size: 13px;
            text-decoration: none;
            margin: 15px 0 10px;
        }
        
        .container button{
            background-color: #512da8;
            color: #fff;
            font-size: 12px;
            padding: 10px 45px;
            border: 1px solid transparent;
            border-radius: 8px;
            font-weight: 600;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            margin-top: 10px;
            cursor: pointer;
        }
        
        .container button.hidden{
            background-color: transparent;
            border-color: #fff;
        }
        
        .container form{
            background-color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 0 40px;
            height: 100%;
        }
        
        .container input{
            background-color: #eee;
            border: none;
            margin: 8px 0;
            padding: 10px 15px;
            font-size: 13px;
            border-radius: 8px;
            width: 100%;
            outline: none;
        }
        
        .form-container{
            position: absolute;
            top: 0;
            height: 100%;
            transition: all 0.6s ease-in-out;
        }
        
        .sign-in{
            left: 0;
            width: 50%;
            z-index: 2;
        }
        
        .container.active .sign-in{
            transform: translateX(100%);
        }
        
        .sign-up{
            left: 0;
            width: 50%;
            opacity: 0;
            z-index: 1;
        }
        
        .container.active .sign-up{
            transform: translateX(100%);
            opacity: 1;
            z-index: 5;
            animation: move 0.6s;
        }
        
        @keyframes move{
            0%, 49.99%{
                opacity: 0;
                z-index: 1;
            }
            50%, 100%{
                opacity: 1;
                z-index: 5;
            }
        }
        
        .social-icons{
            margin: 20px 0;
        }
        
        .social-icons a{
            border: 1px solid #ccc;
            border-radius: 20%;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            margin: 0 3px;
            width: 40px;
            height: 40px;
        }
        
        .toggle-container{
            position: absolute;
            top: 0;
            left: 50%;
            width: 50%;
            height: 100%;
            overflow: hidden;
            transition: all 0.6s ease-in-out;
            border-radius: 150px 0 0 100px;
            z-index: 1000;
        }
        
        .container.active .toggle-container{
            transform: translateX(-100%);
            border-radius: 0 150px 100px 0;
        }
        
        .toggle{
            background-color: #512da8;
            height: 100%;
            background: linear-gradient(to right, #5c6bc0, #512da8);
            color: #fff;
            position: relative;
            left: -100%;
            height: 100%;
            width: 200%;
            transform: translateX(0);
            transition: all 0.6s ease-in-out;
        }
        
        .container.active .toggle{
            transform: translateX(50%);
        }
        
        .toggle-panel{
            position: absolute;
            width: 50%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 0 30px;
            text-align: center;
            top: 0;
            transform: translateX(0);
            transition: all 0.6s ease-in-out;
        }
        
        .toggle-left{
            transform: translateX(-200%);
        }
        
        .container.active .toggle-left{
            transform: translateX(0);
        }
        
        .toggle-right{
            right: 0;
            transform: translateX(0);
        }
        
        .container.active .toggle-right{
            transform: translateX(200%);
        }


    </textarea>
  </div>

  <div id="js" class="editor-container">
    <textarea id="jsEditor">
       const menuBtn = document.getElementById("menu-btn");
const navLinks = document.getElementById("nav-links");
const menuBtnIcon = menuBtn.querySelector("i");

menuBtn.addEventListener("click", (e) => {
  navLinks.classList.toggle("open");

  const isOpen = navLinks.classList.contains("open");
  menuBtnIcon.setAttribute("class", isOpen ? "ri-close-line" : "ri-menu-line");
});

navLinks.addEventListener("click", (e) => {
  navLinks.classList.remove("open");
  menuBtnIcon.setAttribute("class", "ri-menu-line");
});

const scrollRevealOption = {
  distance: "50px",
  origin: "bottom",
  duration: 1000,
};

ScrollReveal().reveal(".header__image img", {
  ...scrollRevealOption,
  origin: "right",
});
ScrollReveal().reveal(".header__content h1", {
  ...scrollRevealOption,
  delay: 500,
});
ScrollReveal().reveal(".header__content p", {
  ...scrollRevealOption,
  delay: 1000,
});
ScrollReveal().reveal(".header__image__content ", {
  duration: 1000,
  delay: 1500,
});

ScrollReveal().reveal(".product__image img", {
  ...scrollRevealOption,
  origin: "left",
});
ScrollReveal().reveal(".product__card", {
  ...scrollRevealOption,
  delay: 500,
  interval: 500,
});

const swiper = new Swiper(".swiper", {
  loop: true,
  effect: "coverflow",
  grabCursor: true,
  centerSlides: true,
  slidesPerView: "auto",
  coverflowEffect: {
    rotate: 0,
    depth: 250,
    modifier: 1,
    scale: 0.75,
    slideShadows: false,
    stretch: -100,
  },

  pagination: {
    el: ".swiper-pagination",
  },
});





const colorDots = document.querySelectorAll(".product__colors > div");
const productImg = document.querySelector(".product__image img");

// Optional: Track the currently selected color
let currentColor = "black.png";

colorDots.forEach((dot) => {
  dot.addEventListener("click", () => {
    const newImage = dot.getAttribute("data-image");
    if (!newImage || newImage === currentColor) return;

    currentColor = newImage;

    // Animate the current image out
    productImg.style.opacity = 0;
    productImg.style.transform = "translateY(20px)";

    // After the fade-out, change image and animate in
    setTimeout(() => {
      productImg.src = `assets/${newImage}`;
      productImg.style.opacity = 1;
      productImg.style.transform = "translateY(0)";
    }, 300);
  });
});




    </textarea>
  </div>

  <div class="preview">
    <iframe id="previewFrame"></iframe>
  </div>

  <!-- CodeMirror JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.10/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.10/mode/xml/xml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.10/mode/css/css.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.10/mode/javascript/javascript.min.js"></script>

  <script>
    const htmlEditor = CodeMirror.fromTextArea(document.getElementById("htmlEditor"), { mode: "xml", theme: "dracula", lineNumbers: true });
    const cssEditor = CodeMirror.fromTextArea(document.getElementById("cssEditor"), { mode: "css", theme: "dracula", lineNumbers: true });
    const jsEditor = CodeMirror.fromTextArea(document.getElementById("jsEditor"), { mode: "javascript", theme: "dracula", lineNumbers: true });

    function switchTab(tabId) {
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.editor-container').forEach(editor => editor.classList.remove('active'));
      document.querySelector(`.tab-button[onclick*="${tabId}"]`).classList.add('active');
      document.getElementById(tabId).classList.add('active');
    }

    function updatePreview() {
      const html = htmlEditor.getValue();
      const css = `<style>${cssEditor.getValue()}</style>`;
      const js = `<script>${jsEditor.getValue()}<\/script>`;
      document.getElementById("previewFrame").srcdoc = `${html}${css}${js}`;
    }

    function toggleTheme() {
      const root = document.documentElement;
      const isDark = getComputedStyle(root).getPropertyValue('--bg') === '#ffffff';
      root.style.setProperty('--bg', isDark ? '#1e1e2f' : '#ffffff');
      [htmlEditor, cssEditor, jsEditor].forEach(editor => editor.setOption('theme', isDark ? 'dracula' : 'default'));
    }

    function downloadCode() {
      const blob = new Blob([
        htmlEditor.getValue() + '\n<style>' + cssEditor.getValue() + '</style>\n<script>' + jsEditor.getValue() + '<\/script>'
      ], { type: 'text/html' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'code.html';
      a.click();
    }

    [htmlEditor, cssEditor, jsEditor].forEach(editor => editor.on("change", updatePreview));
    window.onload = () => {
      updatePreview();
      window.scrollTo({ top: 0, behavior: "smooth" });
      setTimeout(() => window.scrollTo({ top: document.body.scrollHeight, behavior: "smooth" }), 500);
    };
  </script>
</body>
</html>